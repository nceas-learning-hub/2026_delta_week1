{
  "hash": "f9c0b3e1f0a93673dd0abe3c5602080c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Git and GitHub Setup\n---\n\n\n\n\n:::{.callout-tip}\n## Learning objectives\n\nAfter completing this session, you will be able to:\n\n- Set up a GitHub account\n- Set Git defaults for your local computer\n- Tell Git how to reconcile differences between branches\n- Create a <u>P</u>ersonal <u>A</u>ccess <u>T</u>oken (PAT) so your computer can communicate automatically with GitHub\n:::\n\n## Set up a GitHub Account\n\nIf you do not currently have a GitHub account, you can set one up for free at https://github.com.\n\n* Click \"Sign up for GitHub\" and use your preferred email address \n    * if you have a .edu address, we recommend using that, as an educational account gives free access to certain privileges (you can always link an edu account later)\n    * Alternatively, you should be able to access through Google: click \"Continue with Google\"\n* Follow the instructions and verify your email address\n* Now you're good to go!\n\n## Set Git's Global Options\n\nBefore using Git, you need to tell it who you are, also known as setting the **global options**. You can do this either with command line code or with the R package `usethis`. For this lesson we will use the `usethis` package. However, you can also find the command line code to reference in the future.\n\n::: {.callout-note}\n## What's the Terminal?\n\nTechnically, the \"Terminal\" is an interface for the shell, a computer program. We use the Terminal to directly tell a computer what to do outside of R. This is different from the \"Console\" in Positron, which interprets R code and returns a value.\n\nThe Terminal should be visible by default in Positron, but if it is not, you can open it by clicking \"Terminal\" {{< fa arrow-right >}} \"New Terminal\"\n\nA Terminal tab should now be open right next to the Console tab.\n:::\n\n::: {.callout-tip}\n## Don't Fear the Terminal!\n\nMost of our Git operations will be done with R code, but there are some situations where you _must_ work in the Terminal and use command line. It may be daunting to code in the Terminal, but as your comfort increases over time, you might find you prefer it. Either way, it's beneficial to learn _enough_ command line and to not be intimidated in the Terminal. \n\n:::\n\n### Configure GitHub Username and Email\n\nTo introduce ourselves to git we are going to update our global options with our GitHub user name and email information. We'll use the R code tab below but check out the terminal tab if doing this via command line is of interest.\n\n::: {.callout-important}\n## Case and Spelling Matter!\n\nWhen you add your `user.email` to the global options <u>you **must** use an address linked to your GitHub account</u>, otherwise Git won't be able to sync to your account.  \n\nYour `user.name` is not used for matching Git to GitHub - it is just for helping identify you on the commits you write.  We recommend using your GitHub user name (e.g., `oharac`) but you can also use your human name (e.g, `Casey O'Hara`).\n:::\n\n::: {.panel-tabset}\n#### Console {{< fa brands r-project >}}\n\n**Step 1:** Tell Git (1) your GitHub username, (2) your GitHub-associated email address, and (3) how you want Git to reconcile differences between your local work and a GitHub repository.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nusethis::use_git_config(user.name = \"my_user_name\", # <1>\n                        user.email = \"my_email@nceas.ucsb.edu\") # <2>\n```\n:::\n\n\n\n1. Add your GitHub username (recommended) or human name.\n2. Add your email address associated to you GitHub account.\n\n**Step 2:** Define the default name for a branch that gets created when you make the first commit in a new Git repository (a.k.a. \"repo\").\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nusethis::git_default_branch_configure(name = \"main\")\n```\n:::\n\n\n\n\n**Step 3:** Check to make sure everything looks correct.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nusethis::git_sitrep()\n```\n:::\n\n\n\n\n#### Terminal {{< fa terminal >}}\n\n**Step 1:** Tell Git your GitHub username (recommended) or human name. Note that <u>if the code runs successfully, it will look like nothing happened</u>. We will check at the end to make sure it worked.\n\n```bash\ngit config --global user.name \"my_user_name\"\n```\n\n**Step 2:** Tell Git your GitHub-associated email address.\n\n```bash\ngit config --global user.email \"my_email@nceas.ucsb.edu\"\n```\n\n**Step 3:** Define the default name for a branch that gets created when you make the first commit in a new Git repository (a.k.a. \"repo\").\n\n``` bash\ngit config --global init.defaultBranch main\n```\n\n**Step 4:** Check to make sure everything looks correct. The following command return the global options you have set.\n\n``` bash\ngit config --global --list\n```\n\n:::\n\n::: {.callout-note}\n## Why Change the Default Branch Name?\n\nPreviously, the default branch name was \"master\" and this terminology for Git branches is problematic, which motivates us to update our default branch to \"main\" instead. \n\n:::\n\n### Configure Strategy for Integrating Changes Across Branches\n\nWhen you're working on the same GitHub repository as the rest of your team, what happens when you and a teammate edit the same file at the same time? How does Git 'know' how to reconcile those differences? Simply put, we tell Git how we want it to make that judgement call!\n\nThere are three options, \"merge,\" \"rebase,\" and \"fast forward.\" **We recommend that you choose the \"merge\" strategy** as it will seamlessly handle easy situations where human oversight isn't needed but will flag more nuanced problems (called \"merge conflicts\") for you to resolve manually. For more information on \"merge\" versus \"rebase\", see [here](https://www.atlassian.com/git/tutorials/merging-vs-rebasing).  You can always revisit this decision later using essentially the same code below!\n\n::: {.panel-tabset}\n#### Console {{< fa brands r-project >}}\n\nSet the default strategy for reconciling differences.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nusethis::use_git_config(pull.rebase = \"false\")\n```\n:::\n\n\n\n\n#### Terminal {{< fa terminal >}}\n\nSet the default strategy for reconciling differences.\n\n```bash\ngit config --global pull.rebase false\n```\n\nNote: The `--global` option will set this as default for all repos on your computer.  If you forget this, it will only set for the current repo.\n:::\n\n<!-- It is important to highlight too that this configuration can be repository specific. This means you can configure how you want Git to reconcile two branches at a repository level instead of doing so for all repositories in which you work. This allows you to control how Git weaves things in when collaborating with others in a project-specific fashion. -->\n\n<!-- If you don't define a merge strategy globally, you will have to define it for each repository that you create. If you have differences between branches and try to sync your local computer with the GitHub repository, you will likely get the following error message. Note that the error message itself gives you the terminal code that you'd need to fix it! -->\n\n::: {.callout-warning}\n\n#### Why did I get this error?\n\nIf you forget to set your pull.rebase option, you will get the following error message when you try to sync your local computer with GitHub.  Note, it gives you the terminal code to fix it!\n\n```bash\nhint: You have divergent branches and need to specify how to reconcile them.\nhint: You can do so by running one of the following commands sometime before\nhint: your next pull:\nhint: \nhint:    git config pull.rebase false # merge (the default strategy) # <1>\nhint:    git config pull.rebase true  # rebase\nhint:    git config pull.ff only      # fast-forward only\nhint: \nhint: You can replace \"git config\" with \"git config --global\" to set a default\nhint: preference for all repositories. You can also pass --rebase, --norebase, \nhint: or --ff-only on the command line to override the configured default per\nhint: invocation.\nfatal: Need to specify how to reconcile divergent branches\n```\n1. This is the Terminal code to set the \"merge\" strategy, though we recommend you set this globally using the `--global` option.\n:::\n\n## GitHub Authentication\n\nWhile you will use your GitHub password to log in to your account on a web browser, in order to actually send code you write from your local computer up to GitHub, you'll need to \"authenticate\" in a different, more secure way.\n\nThe book [Happy Git and GitHub for the useR](https://happygitwithr.com/index.html) has a wealth of information related to working with Git in R, and the instructions below are based off of [Chapter 9: Personal access token for HTTPS](https://happygitwithr.com/https-pat.html) in that book.\n\nWe will be using a **Personal Access Token (PAT)** in this course. For better security and long term use, we recommend taking the extra steps to set up SSH keys (check out [Chapter 10 Set up Keys for SSH](https://happygitwithr.com/ssh-keys.html)).\n\n::: {.callout-tip}\n## Setting up Your PAT\n\n1. Run `usethis::create_github_token()` in the Console.\n2. A new browser window should open up to GitHub, showing all the \"scopes\" options. You can review the scopes, but you don't need to worry about which ones to select this time. The previous function automatically pre-selects some recommended scopes. **Go ahead and scroll to the bottom and click \"Generate Token\"**.\n3. <u>Copy the generated token.</u> You will not be able to see this token again (ever) when you leave this page!\n4. Back in the Console of Positron, run `gitcreds::gitcreds_set()`.\n5. Paste your PAT when the prompt asks for it.\n6. Run `usethis::git_sitrep()` in the Console to check your Git configuration and that you've successful stored your PAT. \n**Note:** look for `Personal access token for 'https://github.com': '<discovered>'`\n\nIf you see `<unset>` instead of `<discovered>` means your PAT is not correctly set. You'll need to troubleshoot.\n\n:::\n\nCongrats! Now you've setup your authentication you should be able to work with GitHub in Positron now.\n\n",
    "supporting": [
      "s02_git_setup_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}